/* =========================
   Reset & Base
========================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  width: 100%;
  font-family: sans-serif;
  overflow-x: hidden;
  overflow-y: hidden; /* desktop default: no vertical scroll (carousel) */
  top: 1px;
}

/* =========================
   PROMAG: Overlay UI normalizer
   (tempel di PALING BAWAH promag.css)
========================= */

/* Pastikan hover-area selalu setinggi viewport di Promag */
.left-hover-area,
.right-hover-area {
  position: fixed !important;
  top: 0 !important;
  bottom: 0 !important;
  height: 100vh !important;
  z-index: 40 !important;   /* di atas page indicators (z=20) */
}

/* Paksa tombol arrow tepat di tengah vertikal */
.left-hover-area .arrow-button,
.right-hover-area .arrow-button-right {
  top: 55% !important;
  transform: translateY(-50%) !important;
  height: 70vh !important;          /* proporsi area klik tetap nyaman */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Pusatkan ikon ▶ / ⏸ di dalam lingkaran, walau JS toggle display */
#playPauseBtn,
.play-pause {
  display: inline-flex !important;
  width: 30px; 
  height: 30px;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;
}

/* =========================
   Viewport halaman (default = desktop carousel)
========================= */
.content-wrapper-promag {
  display: flex;
  justify-content: center;
  align-items: flex-start;

  width: calc(100% - 90px);

  margin: 5px auto 0;
  padding: 0;                 /* agar viewport = lebar bersih */
  overflow: hidden;           /* kunci agar page lain tak terlihat */
  position: relative;
  flex-shrink: 0;

  --top-gap: 17.5px;                 /* ubah angkanya jika mau */
    padding-top: var(--top-gap);

    /* tinggi wrapper ikut ditambah agar konten tidak kepotong */
    height: calc(var(--content-h) + var(--top-gap));

  /* debug opsional */
}

/* Container slider */
.card-pages-promag {
  display: flex;
  width: 1148px;              /* 5*220 + 4*12 */
  height: 100%;
  transition: transform 0.5s ease;
  will-change: transform;
  flex-shrink: 0;
}

/* Grid per halaman — fallback (dipakai sebelum JS aktif) */
.page-promag {
  width: 1148px;              /* dioverride jadi 100% di desktop */
  flex-shrink: 0;

  display: grid;
  grid-template-columns: repeat(5, 220px);
  grid-template-rows: repeat(2, 210px);
  column-gap: 12px;           /* X tetap 12px */
  row-gap: 28px;              /* Y LEBIH JAUH */
  padding: 8px 0 0 0;

  justify-content: center;
  justify-items: center;
  box-sizing: border-box;
}

/* =========================
   Card (ukuran match grid desktop)
========================= */
.card-container-promag {
  flex-shrink: 0;
  width: 220px;
  height: 210px;
}

.card-promag {
  display: flex;
  flex-direction: column;
  width: 220px;
  height: 210px;
  padding: 12px;
  font-size: 13px;            /* diperkecil */
  flex-shrink: 0;

  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

.card-content-promag { display: block; }

.tag-date-wrapper-promag {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

/* =========================
   Status Badge
========================= */
.status-promag { display: inline-block; color: #fff; font-size: 11px; font-weight: 700; border-radius: 10px; }
.status-promag .ON-PROGRESS { padding: 2px 6px; color:#fff; background: orange; border-radius:10px; font-weight:bold; }
.status-promag .COMPLETED   { padding: 2px 6px; color:#fff; background: green;  border-radius:10px; font-weight:bold; }
.status-promag .PENDING     { padding: 2px 6px; color:#fff; background: #2a0658; border-radius:10px; font-weight:bold; }

/* =========================
   Card Text
========================= */
.title-promag {
  margin-top: 12px;
  padding-bottom: 6px;
  font-size: 14px;
  font-weight: 800;
  color: #fff;
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-box-orient: vertical;
}

.subtitle-promag { margin: 2px 0; font-size: 12px; color: #fff; }
.subtitle-pj-promag { margin: 2px 0; font-size:12px; font-weight:bold; color:#fff; }
.subtitle-tanggal-promag { font-size:12px; line-height:1; text-align:right; color:#fff; }

/* =========================
   Lokasi Badge
========================= */
.lokasi-progress-wrapper-promag {
  display: inline-block;
  height: 20px;
  margin-bottom: 6px;
  background: #079fa4;
  border-radius: 10px;
  overflow: hidden;
  max-width: 100%;
}
.lokasi-progress-promag {
  display: flex;
  align-items: center;
  height: 100%;
  margin: 0 3px;
  padding-left: 3px;
  font-size: 11px;
  font-weight: bold;
  white-space: nowrap;
  color: #fff;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* =========================
   Perusahaan Badge
========================= */
.perusahaan-promag span { display:inline-block; padding:2px 8px; font-size:11px; font-weight:bold; color:#fff; border-radius:10px; }
.perusahaan-promag .TMU { background:#00ced1; }
.perusahaan-promag .OTI { background:#ff6347; }
.perusahaan-promag .ARI { background:#32cd32; }

/* =========================
   Progress Bar (blended)
========================= */
.progress-wrapper-promag { color:#fff; margin:14px 0 4px; }
.progress-title-promag { margin-bottom:4px; font-size:12px; font-weight:bold; }
.progress-container-promag {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 16px;
  background: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
}
.progress-bar-promag {
  --mix: 0%;
  position: absolute; top:0; left:0;
  width: 0%; height: 100%; border-radius: 10px;
  transition: width 0.35s ease;
  background-color: color-mix(in oklab, #00fd3b var(--mix), #ff0019 calc(100% - var(--mix)));
}
.progress-text-promag { position:relative; z-index:1; font-size:10px; font-weight:bold; color:#333; }

/* =========================
   Page Indicators (desktop only)
========================= */
.page-indicators-promag {
  display: flex !important;
  justify-content: center;
  gap: 8px;
  position: fixed;
  bottom: 25px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
}

.indicator-dot-promag {
  display: block !important;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.4);
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid rgba(255, 255, 255, 0.6);
}

.indicator-dot-promag.active {
  background: rgba(255, 255, 255, 0.9);
  transform: scale(1.2);
}

.indicator-dot-promag:hover {
  background: rgba(255, 255, 255, 0.7);
  transform: scale(1.1);
}

/* =========================================================================
   MODE SWITCHING VIA CLASS
   ========================================================================= */
.card-pages-promag.is-carousel {
  width: 1148px;
  height: 500px;
  transform: translateX(0); /* akan dioverride JS */
}
.card-pages-promag.is-scroll {
  width: 100%;
  height: auto;
  transform: none !important;
  flex-shrink: 1;
}

/* =========================================================================
   4 BREAKPOINTS
   ========================================================================= */

/* ---------- DESKTOP (>=1400px) ---------- */
@media (min-width: 1400px) {
  .content-wrapper-promag {
    /* variabel lokal tanpa :root */
    --card-w: 220px;
    --card-h: 210px;
    --gap-x: 12px;   /* horizontal */
    --gap-y: 28px;   /* vertical lebih jauh */

    width: calc(100% - 90px);
    overflow: hidden;                  /* cegah page lain terlihat */
    height: var(--content-h, auto);    /* tinggi diatur JS agar 30px di atas indikator */
  }

  /* slide container mengikuti lebar wrapper */
  .card-pages-promag,
  .card-pages-promag.is-carousel {
    width: 100% !important;
    height: auto;
  }

  /* setiap halaman = 100% lebar wrapper */
  .page-promag {
    width: 100% !important;
    display: grid;
    grid-template-columns: repeat(5, var(--card-w));
    grid-template-rows: auto;      /* baris template awal */
    grid-auto-rows: var(--card-h); /* baris tambahan tingginya card-h */
    column-gap: var(--gap-x);      /* X tetap */
    row-gap: var(--gap-y);         /* Y lebih jauh */
    justify-content: center;       /* default center; JS bisa ubah ke spread */
    align-content: start;
    padding: 8px 0 0 0;
    box-sizing: border-box;
  }

  /* util: ketika ingin “terbentang” kiri–kanan (sisa ruang kecil) */
  .page-promag.page-justify-spread { justify-content: space-between; }

  /* util eksplisit center (zoom-out, sisa ruang besar) */
  .page-promag.page-justify-center { justify-content: center; }

  .card-container-promag,
  .card-promag {
    width: var(--card-w);
    height: var(--card-h);
  }
}

/* ---------- TABLET (769px–1399px) ---------- */
@media screen and (min-width: 769px) and (max-width: 1399px) {
  html, body { overflow-y: auto; }

  .content-wrapper-promag {
    width: 100%; max-width: 100%; min-width: 0;
    margin: 5px auto 0;
    padding: 14px 0 18px;
    overflow: visible;
  }

  .card-pages-promag { width: 100%; height: auto; }

  .page-promag {
    width: 100%;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    grid-template-rows: auto;
    gap: clamp(10px, 2.5vw, 16px);  /* simetris pada tablet */
    padding-inline: clamp(12px, 3.5vw, 24px);
    padding-block: 8px 14px;
    box-sizing: border-box;
  }

  .card-container-promag, .card-promag {
    width: 100%;
    height: auto;
    padding: 12px;
    font-size: 13px;
  }

  #leftArrow, #rightArrow, #playPauseBtn, .page-indicators-promag { display: none !important; }
}

/* ---------- MOBILE STANDARD (480px–768px) ---------- */
@media (max-width: 768px) {
  html, body { overflow-y: auto; }

  .content-wrapper-promag {
    width: 100%; max-width: 100%; min-width: 0;
    margin: 5px auto 0;
    padding: 12px 0 16px;
    overflow: visible;
  }

  .card-pages-promag { width: 100%; height: auto; }

  .page-promag {
    width: 100%;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: clamp(10px, 3vw, 16px);
    padding-inline: clamp(12px, 4vw, 24px);
    padding-block: 8px 12px;
    box-sizing: border-box;
  }

  .card-container-promag, .card-promag { width: 100%; height: auto; }
  .title-promag { font-size: 14px; }
  .subtitle-promag, .subtitle-pj-promag, .subtitle-tanggal-promag { font-size: 12px; }

  #leftArrow, #rightArrow, #playPauseBtn, .page-indicators-promag { display: none !important; }
}

/* ---------- MOBILE KECIL (<=479px) ---------- */
@media (max-width: 480px) {
  html, body { overflow-y: auto; }

  .content-wrapper-promag {
    width: 100%; max-width: 100%; min-width: 0;
    margin: 5px auto 0;
    padding: 10px 0 14px;
    overflow: visible;
  }

  .card-pages-promag { width: 100%; height: auto; }

  .page-promag {
    width: 100%;
    grid-template-columns: 1fr;
    gap: clamp(8px, 3.5vw, 14px);
    padding-inline: clamp(10px, 5vw, 20px);
    padding-block: 8px 10px;
    box-sizing: border-box;
  }

  .card-container-promag, .card-promag { width: 100%; height: auto; }
  .title-promag { font-size: 13.5px; }
  .subtitle-promag, .subtitle-pj-promag, .subtitle-tanggal-promag { font-size: 12px; }

  #leftArrow, #rightArrow, #playPauseBtn, .page-indicators-promag { display: none !important; }
}
